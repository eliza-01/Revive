on_update({"hp_ratio": None, "ts": time.time()}) — это вызов колбэка из движка player_state, которым он сообщает наверх:

hp_ratio=None → «значение HP неизвестно» (мы раньше использовали это, чтобы HUD показал --),

ts → отметка времени события.

Почему убираем:

Разделяем роли. Теперь политики UI (маскирование/восстановление виталов) управляет PlayerStateService по флагам paused/pause_reason. Движок — только «сенсор», без решений про UI.

Избегаем двойных эффектов. Если и движок, и сервис будут маскировать, получим гонки/мигание HUD и непредсказуемый порядок обновлений.

Единая точка логики пауз. Все причины паузы (не только unfocused) обрабатываются в одном месте — в сервисе. Движок просто приостанавливает измерения на паузе.

Меньше связности. Движок больше не «знает» про то, что надо триггерить маску — он стабильно публикует только измеренные значения, когда не на паузе.

Итог: при паузе сервис сам ставит HUD на -- и чистит виталы в пуле; при снятии паузы HUD возвращается в норму по очередному реальному значению от движка.